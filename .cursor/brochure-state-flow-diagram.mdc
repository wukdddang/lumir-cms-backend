---
alwaysApply: true
---

# ë¸Œë¡œìŠˆì–´ ìƒíƒœ íë¦„ ë‹¤ì´ì–´ê·¸ë¨ (API í¬í•¨)

## ğŸ“‹ ê°œìš”

ë¸Œë¡œìŠˆì–´ëŠ” ì½˜í…ì¸  ê´€ë¦¬ ì‹œìŠ¤í…œì˜ í•µì‹¬ ì—”í‹°í‹°ë¡œ, **ìƒíƒœ(Status)**ì™€ **ê³µê°œ ì—¬ë¶€(isPublic)** ë‘ ê°€ì§€ ì°¨ì›ì—ì„œ ê´€ë¦¬ë©ë‹ˆë‹¤.

## ğŸ”„ ìƒíƒœ(Status) ì •ì˜

| ìƒíƒœ       | ê°’             | ì„¤ëª…                              |
| ---------- | -------------- | --------------------------------- |
| **ì´ˆì•ˆ**   | `draft`        | ì‘ì„± ì¤‘ì¸ ìƒíƒœ, ì•„ì§ ê²€í†  ìš”ì²­ ì „ |
| **ê²€í† ì¤‘** | `under_review` | ê²€í†  ìš”ì²­ í›„ ìŠ¹ì¸ ëŒ€ê¸° ì¤‘         |
| **ìŠ¹ì¸ë¨** | `approved`     | ê²€í†  ì™„ë£Œ, ìŠ¹ì¸ëœ ìƒíƒœ            |
| **ê±°ë¶€ë¨** | `rejected`     | ê²€í†  ê²°ê³¼ ê±°ë¶€ëœ ìƒíƒœ             |
| **ê³µê°œë¨** | `opened`       | ìµœì¢… ê³µê°œëœ ìƒíƒœ                  |

## ğŸ“Š ìƒíƒœ ì „ì´ ë‹¤ì´ì–´ê·¸ë¨ (API í¬í•¨)

```mermaid
stateDiagram-v2
    [*] --> draft: POST /api/admin/brochures<br/>(ë¸Œë¡œìŠˆì–´ ìƒì„±)

    draft --> under_review: PATCH /api/admin/brochures/:id/status<br/>(ê²€í†  ìš”ì²­)
    draft --> draft: PUT /api/admin/brochures/:id/translations<br/>PATCH /api/admin/brochures/:id/files<br/>PATCH /api/admin/brochures/:id/categories<br/>PATCH /api/admin/brochures/:id/public<br/>(ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥)

    under_review --> approved: PATCH /api/admin/brochures/:id/status<br/>(ìŠ¹ì¸)
    under_review --> rejected: PATCH /api/admin/brochures/:id/status<br/>(ê±°ë¶€)
    under_review --> draft: PATCH /api/admin/brochures/:id/status<br/>(ê²€í†  ì·¨ì†Œ)

    approved --> opened: PATCH /api/admin/brochures/:id/status<br/>(ê³µê°œ ì„¤ì •)
    approved --> draft: PUT /api/admin/brochures/:id/translations<br/>(ìˆ˜ì • ì‹œì‘)

    rejected --> draft: PATCH /api/admin/brochures/:id/status<br/>(ìˆ˜ì • ì‹œì‘)

    opened --> draft: PUT /api/admin/brochures/:id/translations<br/>(ìˆ˜ì • ì‹œì‘)
    opened --> opened: PATCH /api/admin/brochures/:id/public<br/>(ë¹„ê³µê°œ ì„¤ì •, isPublic=false)

    note right of draft
        ìƒíƒœ: ì´ˆì•ˆ
        - ëª¨ë“  ë‚´ìš© ìˆ˜ì • ê°€ëŠ¥
        - íŒŒì¼ ì²¨ë¶€/ìˆ˜ì •/ì‚­ì œ
        - ì¹´í…Œê³ ë¦¬ ë³€ê²½
        - ê³µê°œ ì—¬ë¶€ ë³€ê²½
        - ì‚­ì œ ê°€ëŠ¥
        
        API:
        - PUT /api/admin/brochures/:id/translations
        - PATCH /api/admin/brochures/:id/files
        - DELETE /api/admin/brochures/:id/files
        - PATCH /api/admin/brochures/:id/categories
        - PATCH /api/admin/brochures/:id/public
        - PUT /api/admin/brochures/batch-order
        - DELETE /api/admin/brochures/:id
    end note

    note right of under_review
        ìƒíƒœ: ê²€í† ì¤‘
        - ë‚´ìš© ìˆ˜ì • ë¶ˆê°€
        - ì‚­ì œ ë¶ˆê°€
        - ìŠ¹ì¸/ê±°ë¶€ ëŒ€ê¸°
        
        API:
        - GET /api/admin/brochures/:id
        - PATCH /api/admin/brochures/:id/status
    end note

    note right of approved
        ìƒíƒœ: ìŠ¹ì¸ë¨
        - ê³µê°œ ì¤€ë¹„ ì™„ë£Œ
        - ê³µê°œ ì„¤ì • ê°€ëŠ¥
        - ìˆ˜ì • ì‹œ DRAFTë¡œ ì „ì´
        
        API:
        - GET /api/admin/brochures/:id
        - PATCH /api/admin/brochures/:id/status
        - PATCH /api/admin/brochures/:id/public
        - DELETE /api/admin/brochures/:id
    end note

    note right of rejected
        ìƒíƒœ: ê±°ë¶€ë¨
        - ìˆ˜ì • í•„ìš”
        - ì¬ê²€í†  ê°€ëŠ¥
        - ê³µê°œ ë¶ˆê°€
        
        API:
        - GET /api/admin/brochures/:id
        - PATCH /api/admin/brochures/:id/status
        - DELETE /api/admin/brochures/:id
    end note

    note right of opened
        ìƒíƒœ: ê³µê°œë¨
        - ì‚¬ìš©ìì—ê²Œ ë…¸ì¶œ
        (isPublic=trueì¼ ë•Œë§Œ)
        - ìˆ˜ì • ì‹œ DRAFTë¡œ ì „ì´
        - ë¹„ê³µê°œ ì²˜ë¦¬ ê°€ëŠ¥
        
        API:
        - GET /api/admin/brochures/:id
        - PATCH /api/admin/brochures/:id/public
        - PUT /api/admin/brochures/:id/translations
        - DELETE /api/admin/brochures/:id
    end note
```

## ğŸŒ ì „ì²´ API ì—”ë“œí¬ì¸íŠ¸ ë§µ

### ìƒíƒœì™€ ë¬´ê´€í•œ ì¡°íšŒ API

```mermaid
graph LR
    A[ë¸Œë¡œìŠˆì–´ API] --> B[GET /api/admin/brochures]
    A --> C[GET /api/admin/brochures/all]
    A --> D[GET /api/admin/brochures/:id]
    A --> E[GET /api/admin/brochures/categories]
    
    B --> B1[ëª©ë¡ ì¡°íšŒ<br/>í˜ì´ì§•]
    C --> C1[ì „ì²´ ëª©ë¡ ì¡°íšŒ<br/>í˜ì´ì§• ì—†ìŒ]
    D --> D1[ìƒì„¸ ì¡°íšŒ]
    E --> E1[ì¹´í…Œê³ ë¦¬ ëª©ë¡<br/>ì¡°íšŒ]
```

### ìƒíƒœë³„ ê°€ëŠ¥í•œ API ì•¡ì…˜

```mermaid
graph TD
    subgraph DRAFT["DRAFT (ì´ˆì•ˆ)"]
        D1[POST /api/admin/brochures<br/>ìƒì„±]
        D2[PUT /api/admin/brochures/:id/translations<br/>ë²ˆì—­ ìˆ˜ì •]
        D3[PATCH /api/admin/brochures/:id/files<br/>íŒŒì¼ ìˆ˜ì •]
        D4[DELETE /api/admin/brochures/:id/files<br/>íŒŒì¼ ì‚­ì œ]
        D5[PATCH /api/admin/brochures/:id/categories<br/>ì¹´í…Œê³ ë¦¬ ìˆ˜ì •]
        D6[PATCH /api/admin/brochures/:id/public<br/>ê³µê°œ ì—¬ë¶€ ìˆ˜ì •]
        D7[PUT /api/admin/brochures/batch-order<br/>ì •ë ¬ ìˆœì„œ ì¼ê´„ ìˆ˜ì •]
        D8[DELETE /api/admin/brochures/:id<br/>ì‚­ì œ]
        D9[PATCH /api/admin/brochures/:id/status<br/>â†’ UNDER_REVIEW ì „ì´]
    end
    
    subgraph UNDER_REVIEW["UNDER_REVIEW (ê²€í† ì¤‘)"]
        U1[GET /api/admin/brochures/:id<br/>ì¡°íšŒë§Œ ê°€ëŠ¥]
        U2[PATCH /api/admin/brochures/:id/status<br/>â†’ APPROVED ìŠ¹ì¸]
        U3[PATCH /api/admin/brochures/:id/status<br/>â†’ REJECTED ê±°ë¶€]
        U4[PATCH /api/admin/brochures/:id/status<br/>â†’ DRAFT ì·¨ì†Œ]
    end
    
    subgraph APPROVED["APPROVED (ìŠ¹ì¸ë¨)"]
        A1[GET /api/admin/brochures/:id<br/>ì¡°íšŒ]
        A2[PATCH /api/admin/brochures/:id/status<br/>â†’ OPENED ê³µê°œ]
        A3[PATCH /api/admin/brochures/:id/public<br/>ê³µê°œ ì—¬ë¶€ ìˆ˜ì •]
        A4[PUT /api/admin/brochures/:id/translations<br/>â†’ DRAFTë¡œ ì „ì´ í›„ ìˆ˜ì •]
        A5[DELETE /api/admin/brochures/:id<br/>ì‚­ì œ]
    end
    
    subgraph REJECTED["REJECTED (ê±°ë¶€ë¨)"]
        R1[GET /api/admin/brochures/:id<br/>ì¡°íšŒ]
        R2[PATCH /api/admin/brochures/:id/status<br/>â†’ DRAFTë¡œ ì „ì´]
        R3[DELETE /api/admin/brochures/:id<br/>ì‚­ì œ]
    end
    
    subgraph OPENED["OPENED (ê³µê°œë¨)"]
        O1[GET /api/admin/brochures/:id<br/>ì¡°íšŒ]
        O2[PATCH /api/admin/brochures/:id/public<br/>ë¹„ê³µê°œ ì„¤ì •]
        O3[PUT /api/admin/brochures/:id/translations<br/>â†’ DRAFTë¡œ ì „ì´ í›„ ìˆ˜ì •]
        O4[DELETE /api/admin/brochures/:id<br/>ì‚­ì œ]
    end

    style DRAFT fill:#e3f2fd
    style UNDER_REVIEW fill:#fff3e0
    style APPROVED fill:#e8f5e9
    style REJECTED fill:#ffebee
    style OPENED fill:#f3e5f5
```

## ğŸ”„ ìƒíƒœ ì „ì´ ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨

### ì‹œë‚˜ë¦¬ì˜¤ 1: ì •ìƒì ì¸ ê³µê°œ í”„ë¡œì„¸ìŠ¤

```mermaid
sequenceDiagram
    participant Admin as ê´€ë¦¬ì
    participant API as API ì„œë²„
    participant DB as ë°ì´í„°ë² ì´ìŠ¤
    
    Note over Admin,DB: 1. ë¸Œë¡œìŠˆì–´ ìƒì„±
    Admin->>API: POST /api/admin/brochures
    API->>DB: INSERT (status: 'draft', isPublic: false)
    DB-->>API: ìƒì„± ì™„ë£Œ
    API-->>Admin: 201 Created (DRAFT)
    
    Note over Admin,DB: 2. íŒŒì¼ ë° ë‚´ìš© ìˆ˜ì •
    Admin->>API: PATCH /api/admin/brochures/:id/files
    API->>DB: UPDATE files
    DB-->>API: ìˆ˜ì • ì™„ë£Œ
    API-->>Admin: 200 OK
    
    Admin->>API: PUT /api/admin/brochures/:id/translations
    API->>DB: UPDATE translations
    DB-->>API: ìˆ˜ì • ì™„ë£Œ
    API-->>Admin: 200 OK
    
    Note over Admin,DB: 3. ê²€í†  ìš”ì²­
    Admin->>API: PATCH /api/admin/brochures/:id/status<br/>{status: 'under_review'}
    API->>DB: UPDATE status = 'under_review'
    DB-->>API: ìƒíƒœ ë³€ê²½ ì™„ë£Œ
    API-->>Admin: 200 OK (UNDER_REVIEW)
    
    Note over Admin,DB: 4. ìŠ¹ì¸
    Admin->>API: PATCH /api/admin/brochures/:id/status<br/>{status: 'approved'}
    API->>DB: UPDATE status = 'approved'
    DB-->>API: ìƒíƒœ ë³€ê²½ ì™„ë£Œ
    API-->>Admin: 200 OK (APPROVED)
    
    Note over Admin,DB: 5. ê³µê°œ ì„¤ì •
    Admin->>API: PATCH /api/admin/brochures/:id/status<br/>{status: 'opened'}
    API->>DB: UPDATE status = 'opened'
    DB-->>API: ìƒíƒœ ë³€ê²½ ì™„ë£Œ
    API-->>Admin: 200 OK (OPENED)
    
    Note over Admin,DB: 6. ê³µê°œ ì—¬ë¶€ í™œì„±í™”
    Admin->>API: PATCH /api/admin/brochures/:id/public<br/>{isPublic: true}
    API->>DB: UPDATE isPublic = true
    DB-->>API: ìˆ˜ì • ì™„ë£Œ
    API-->>Admin: 200 OK
    
    Note over Admin,DB: âœ… ì‚¬ìš©ìì—ê²Œ ë…¸ì¶œë¨
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: ê±°ë¶€ í›„ ì¬ê²€í† 

```mermaid
sequenceDiagram
    participant Admin as ê´€ë¦¬ì
    participant API as API ì„œë²„
    participant DB as ë°ì´í„°ë² ì´ìŠ¤
    
    Note over Admin,DB: 1-3. ìƒì„± â†’ ê²€í†  ìš”ì²­ (ìƒëµ)
    
    Note over Admin,DB: 4. ê±°ë¶€
    Admin->>API: PATCH /api/admin/brochures/:id/status<br/>{status: 'rejected'}
    API->>DB: UPDATE status = 'rejected'
    DB-->>API: ìƒíƒœ ë³€ê²½ ì™„ë£Œ
    API-->>Admin: 200 OK (REJECTED)
    
    Note over Admin,DB: 5. ìˆ˜ì • ì‹œì‘
    Admin->>API: PATCH /api/admin/brochures/:id/status<br/>{status: 'draft'}
    API->>DB: UPDATE status = 'draft'
    DB-->>API: ìƒíƒœ ë³€ê²½ ì™„ë£Œ
    API-->>Admin: 200 OK (DRAFT)
    
    Note over Admin,DB: 6. ë‚´ìš© ìˆ˜ì •
    Admin->>API: PUT /api/admin/brochures/:id/translations
    API->>DB: UPDATE translations
    DB-->>API: ìˆ˜ì • ì™„ë£Œ
    API-->>Admin: 200 OK
    
    Note over Admin,DB: 7. ì¬ê²€í†  ìš”ì²­
    Admin->>API: PATCH /api/admin/brochures/:id/status<br/>{status: 'under_review'}
    API->>DB: UPDATE status = 'under_review'
    DB-->>API: ìƒíƒœ ë³€ê²½ ì™„ë£Œ
    API-->>Admin: 200 OK (UNDER_REVIEW)
    
    Note over Admin,DB: 8-10. ìŠ¹ì¸ â†’ ê³µê°œ (ìƒëµ)
```

### ì‹œë‚˜ë¦¬ì˜¤ 3: ê³µê°œëœ ì½˜í…ì¸  ìˆ˜ì •

```mermaid
sequenceDiagram
    participant Admin as ê´€ë¦¬ì
    participant API as API ì„œë²„
    participant DB as ë°ì´í„°ë² ì´ìŠ¤
    participant User as ì‚¬ìš©ì
    
    Note over Admin,User: âœ… í˜„ì¬ ê³µê°œ ì¤‘ (OPENED, isPublic: true)
    User->>API: GET /api/public/brochures
    API->>DB: SELECT WHERE status='opened' AND isPublic=true
    DB-->>API: ë¸Œë¡œìŠˆì–´ ëª©ë¡
    API-->>User: 200 OK (ë…¸ì¶œë¨)
    
    Note over Admin,User: ìˆ˜ì • í•„ìš” ë°œìƒ
    Admin->>API: PUT /api/admin/brochures/:id/translations
    API->>DB: UPDATE status = 'draft' (ìë™ ì „ì´)<br/>UPDATE translations
    DB-->>API: ìˆ˜ì • ì™„ë£Œ
    API-->>Admin: 200 OK (DRAFT)
    
    Note over Admin,User: âŒ ì‚¬ìš©ìì—ê²Œ ë…¸ì¶œ ì¤‘ë‹¨
    User->>API: GET /api/public/brochures
    API->>DB: SELECT WHERE status='opened' AND isPublic=true
    DB-->>API: í•´ë‹¹ ë¸Œë¡œìŠˆì–´ ì œì™¸
    API-->>User: 200 OK (ë…¸ì¶œ ì•ˆ ë¨)
    
    Note over Admin,User: ìˆ˜ì • â†’ ê²€í†  â†’ ìŠ¹ì¸ â†’ ì¬ê³µê°œ
    Admin->>API: PATCH /api/admin/brochures/:id/status<br/>(under_review â†’ approved â†’ opened)
    API->>DB: UPDATE status
    DB-->>API: ìƒíƒœ ë³€ê²½ ì™„ë£Œ
    API-->>Admin: 200 OK (OPENED)
    
    Note over Admin,User: âœ… ì‚¬ìš©ìì—ê²Œ ë‹¤ì‹œ ë…¸ì¶œë¨
```

## ğŸ¯ API ì—”ë“œí¬ì¸íŠ¸ ìƒì„¸ ëª…ì„¸

### 1. ë¸Œë¡œìŠˆì–´ ìƒì„±

```
POST /api/admin/brochures
Content-Type: multipart/form-data

Body:
- translations: JSON string (ë°°ì—´)
  ì˜ˆ: '[{"languageId":"uuid","title":"ì œëª©","description":"ì„¤ëª…"}]'
- files: íŒŒì¼ ë°°ì—´ (ìµœëŒ€ 10ê°œ, PDF/JPG/PNG/WEBP)

Response: 201 Created
- status: 'draft' (ê¸°ë³¸ê°’)
- isPublic: false (ê¸°ë³¸ê°’)
```

### 2. ìƒíƒœ ë³€ê²½ (êµ¬í˜„ í•„ìš”)

```
PATCH /api/admin/brochures/:id/status

Body:
{
  "status": "under_review" | "approved" | "rejected" | "opened" | "draft"
}

Response: 200 OK
- ë³€ê²½ëœ ë¸Œë¡œìŠˆì–´ ì •ë³´
```

### 3. ê³µê°œ ì—¬ë¶€ ë³€ê²½

```
PATCH /api/admin/brochures/:id/public

Body:
{
  "isPublic": true | false
}

Response: 200 OK
- ë³€ê²½ëœ ë¸Œë¡œìŠˆì–´ ì •ë³´
```

### 4. ë²ˆì—­ ìˆ˜ì •

```
PUT /api/admin/brochures/:id/translations

Body:
{
  "translations": [
    {
      "languageId": "uuid",
      "title": "ì œëª©",
      "description": "ì„¤ëª…"
    }
  ]
}

Response: 200 OK
- statusê°€ 'opened'ì˜€ë‹¤ë©´ ìë™ìœ¼ë¡œ 'draft'ë¡œ ì „ì´
```

### 5. íŒŒì¼ ìˆ˜ì •

```
PATCH /api/admin/brochures/:id/files
Content-Type: multipart/form-data

Body:
- files: íŒŒì¼ ë°°ì—´ (ìµœëŒ€ 10ê°œ)

Response: 200 OK
```

### 6. íŒŒì¼ ì‚­ì œ

```
DELETE /api/admin/brochures/:id/files

Body:
{
  "fileUrls": ["url1", "url2"]
}

Response: 200 OK
```

### 7. ë¸Œë¡œìŠˆì–´ ì‚­ì œ (Soft Delete)

```
DELETE /api/admin/brochures/:id

Response: 200 OK
{
  "success": true
}
```

### 8. ì •ë ¬ ìˆœì„œ ì¼ê´„ ìˆ˜ì •

```
PUT /api/admin/brochures/batch-order

Body:
{
  "brochures": [
    { "id": "uuid1", "order": 1 },
    { "id": "uuid2", "order": 2 }
  ]
}

Response: 200 OK
{
  "success": true,
  "updatedCount": 2
}
```

### 9. ì¹´í…Œê³ ë¦¬ ìˆ˜ì •

```
PATCH /api/admin/brochures/:id/categories

Body:
{
  "categoryId": "uuid"
}

Response: 200 OK
```

## ğŸ”“ ê³µê°œ ì¡°ê±´ í”Œë¡œìš°

```mermaid
flowchart TD
    Start([ë¸Œë¡œìŠˆì–´ API ìš”ì²­])
    Start --> CheckAPI{API íƒ€ì…?}
    
    CheckAPI -->|ê´€ë¦¬ì API| AdminAPI[ì „ì²´ ì¡°íšŒ ê°€ëŠ¥]
    CheckAPI -->|ê³µê°œ API| PublicAPI[í•„í„°ë§ í•„ìš”]
    
    PublicAPI --> CheckDeleted{deletedAtì´<br/>nullì¸ê°€?}
    
    CheckDeleted -->|No| NotVisible1[âŒ ë…¸ì¶œ ì•ˆ ë¨]
    CheckDeleted -->|Yes| CheckStatus{statusê°€<br/>'opened'ì¸ê°€?}
    
    CheckStatus -->|No| NotVisible2[âŒ ë…¸ì¶œ ì•ˆ ë¨]
    CheckStatus -->|Yes| CheckPublic{isPublicì´<br/>trueì¸ê°€?}
    
    CheckPublic -->|No| NotVisible3[âŒ ë…¸ì¶œ ì•ˆ ë¨]
    CheckPublic -->|Yes| Visible[âœ… ì‚¬ìš©ìì—ê²Œ<br/>ë…¸ì¶œë¨]
    
    style NotVisible1 fill:#ffcccc
    style NotVisible2 fill:#ffcccc
    style NotVisible3 fill:#ffcccc
    style Visible fill:#ccffcc
    style AdminAPI fill:#e3f2fd
```

## ğŸ“‹ ìƒíƒœ ì „ì´ ê·œì¹™ ìš”ì•½

### í—ˆìš©ë˜ëŠ” ì „ì´

| í˜„ì¬ ìƒíƒœ      | ë‹¤ìŒ ìƒíƒœ      | API ì—”ë“œí¬ì¸íŠ¸                                | ì¡°ê±´         |
| -------------- | -------------- | --------------------------------------------- | ------------ |
| `draft`        | `under_review` | `PATCH /api/admin/brochures/:id/status`       | ê²€í†  ìš”ì²­    |
| `under_review` | `approved`     | `PATCH /api/admin/brochures/:id/status`       | ìŠ¹ì¸         |
| `under_review` | `rejected`     | `PATCH /api/admin/brochures/:id/status`       | ê±°ë¶€         |
| `under_review` | `draft`        | `PATCH /api/admin/brochures/:id/status`       | ê²€í†  ì·¨ì†Œ    |
| `approved`     | `opened`       | `PATCH /api/admin/brochures/:id/status`       | ê³µê°œ ì„¤ì •    |
| `approved`     | `draft`        | `PUT /api/admin/brochures/:id/translations`   | ìˆ˜ì • ì‹œì‘    |
| `rejected`     | `draft`        | `PATCH /api/admin/brochures/:id/status`       | ìˆ˜ì • ì‹œì‘    |
| `opened`       | `draft`        | `PUT /api/admin/brochures/:id/translations`   | ìˆ˜ì • ì‹œì‘    |
| `opened`       | `opened`       | `PATCH /api/admin/brochures/:id/public`       | ë¹„ê³µê°œ ì„¤ì •  |

### ê¸ˆì§€ë˜ëŠ” ì „ì´

- âŒ `draft` â†’ `approved` (ê²€í†  ì—†ì´ ìŠ¹ì¸ ë¶ˆê°€)
- âŒ `draft` â†’ `opened` (ê²€í†  ë° ìŠ¹ì¸ ì—†ì´ ê³µê°œ ë¶ˆê°€)
- âŒ `rejected` â†’ `approved` (ê±°ë¶€ í›„ ë°”ë¡œ ìŠ¹ì¸ ë¶ˆê°€)
- âŒ `rejected` â†’ `opened` (ê±°ë¶€ëœ ì½˜í…ì¸  ê³µê°œ ë¶ˆê°€)
- âŒ `under_review` â†’ `opened` (ê²€í†  ì¤‘ ê³µê°œ ë¶ˆê°€)

## ğŸ”§ êµ¬í˜„ í•„ìš” ì‚¬í•­

### í˜„ì¬ êµ¬í˜„ëœ ê¸°ëŠ¥

- âœ… ë¸Œë¡œìŠˆì–´ ìƒì„± (ê¸°ë³¸ê°’: `status: 'draft'`)
- âœ… ë¸Œë¡œìŠˆì–´ ëª©ë¡ ì¡°íšŒ
- âœ… ë¸Œë¡œìŠˆì–´ ìƒì„¸ ì¡°íšŒ
- âœ… ê³µê°œ ì—¬ë¶€ ìˆ˜ì • (`isPublic`)
- âœ… íŒŒì¼ ìˆ˜ì •/ì‚­ì œ
- âœ… ì¹´í…Œê³ ë¦¬ ìˆ˜ì •
- âœ… ì •ë ¬ ìˆœì„œ ìˆ˜ì •
- âœ… ì‚­ì œ (Soft Delete)

### êµ¬í˜„ í•„ìš” ê¸°ëŠ¥

- âš ï¸ **ìƒíƒœ ë³€ê²½ API** (`PATCH /api/admin/brochures/:id/status`)
  - ìƒíƒœ ì „ì´ ê²€ì¦ ë¡œì§
  - í—ˆìš©ë˜ì§€ ì•ŠëŠ” ìƒíƒœ ì „ì´ ë°©ì§€
  - ìƒíƒœë³„ ì•¡ì…˜ ì œí•œ ê²€ì¦

- âš ï¸ **ìë™ ìƒíƒœ ì „ì´**
  - `opened` ìƒíƒœì—ì„œ ë‚´ìš© ìˆ˜ì • ì‹œ ìë™ìœ¼ë¡œ `draft`ë¡œ ì „ì´
  - íŠ¸ëœì­ì…˜ ì²˜ë¦¬ í•„ìš”

## ğŸ“š ì°¸ê³  ì‚¬í•­

- ìƒíƒœ ë³€ê²½ì€ **ì›ìì (Atomic)**ìœ¼ë¡œ ì²˜ë¦¬ë˜ì–´ì•¼ í•¨
- ìƒíƒœ ì „ì´ ì‹œ **ì´ë ¥ ë¡œê¹…** ê³ ë ¤ (ì„ íƒì‚¬í•­)
- **Optimistic Locking** (`version` í•„ë“œ)ì„ í™œìš©í•˜ì—¬ ë™ì‹œ ìˆ˜ì • ë°©ì§€
- ìƒíƒœë³„ **ê¶Œí•œ ì²´í¬** í•„ìš” (ì˜ˆ: ìŠ¹ì¸ ê¶Œí•œì´ ìˆëŠ” ì‚¬ìš©ìë§Œ ìƒíƒœ ë³€ê²½ ê°€ëŠ¥)
